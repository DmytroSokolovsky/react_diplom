{"version":3,"file":"static/js/892.e74bf953.chunk.js","mappings":"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","sources":["api/api.js","api/doctors-api.js","webpack://ui/./src/components/Doctors/DoctorDetails/DoctorDetails.module.scss?ac2c","components/Doctors/DoctorDetails/DoctorDetails.jsx","webpack://ui/./src/components/Error/Error.module.scss?bc4a","components/Error/Error.jsx","webpack://ui/./src/components/common/Toast/Toast.module.scss?a9e2","components/common/Toast/Toast.jsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n  baseURL: 'https://api-diplom-eupy.onrender.com/api/'\r\n});","import { instance } from \"./api\";\r\n\r\nexport const doctorsAPI = {\r\n  getAll() {\r\n    return instance\r\n      .get(`doctors`)\r\n      .then(response => response.data);\r\n  },\r\n  getOne(telegramId) {\r\n    return instance\r\n      .get(`doctor/${telegramId}`)\r\n      .then(response => response.data);\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"details\":\"DoctorDetails_details__gT7Uf\",\"details__header\":\"DoctorDetails_details__header__2Uom0\",\"details__name\":\"DoctorDetails_details__name__5QK9l\",\"details__photo\":\"DoctorDetails_details__photo__Wn74y\",\"details__bottom\":\"DoctorDetails_details__bottom__qcFFz\",\"details__info\":\"DoctorDetails_details__info__-ZkoM\",\"details__schedule\":\"DoctorDetails_details__schedule__LYelu\",\"schedule__list\":\"DoctorDetails_schedule__list__lTWN6\"};","import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Toast } from \"../../common/Toast/Toast\";\r\nimport { doctorsAPI } from \"../../../api/doctors-api\";\r\nimport s from './DoctorDetails.module.scss'\r\nimport Avatar from './../../../images/avatar.png'\r\nimport cn from 'classnames'\r\nimport Error from \"../../Error/Error\";\r\n\r\nconst DoctorDetails = () => {\r\n  const { doctorId } = useParams();\r\n  const [doctor, setDoctor] = useState(null);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const isNumber = !isNaN(doctorId);\r\n\r\n  useEffect(() => {\r\n    async function getDoctorDetails() {\r\n      try {\r\n        const data = await doctorsAPI.getOne(doctorId);\r\n        setDoctor(data);\r\n      } catch (error) {\r\n        setErrorMessage(\"Неможливо завантажити інформацію про лікаря\");\r\n      }\r\n    }\r\n\r\n    getDoctorDetails();\r\n  }, [doctorId]);\r\n\r\n  const addThirtyMinutes = (time) => {\r\n    const [hours, minutes] = time.split(\":\").map(Number);\r\n    let newHours = hours;\r\n    let newMinutes = minutes + 30;\r\n\r\n    if (newMinutes >= 60) {\r\n      newMinutes = newMinutes - 60;\r\n      newHours = newHours + 1;\r\n    }\r\n\r\n    return `${String(newHours).padStart(2, '0')}:${String(newMinutes).padStart(2, '0')}`;\r\n  };\r\n\r\n  const getTimeRangeForDay = (day) => {\r\n    if (!day.time_slots || day.time_slots.length === 0) return \"Нема даних\";\r\n\r\n    const firstSlot = day.time_slots[0].time;\r\n    const lastSlot = day.time_slots[day.time_slots.length - 1].time; \r\n    const lastSlotWithExtraTime = addThirtyMinutes(lastSlot); \r\n\r\n    return `${firstSlot} - ${lastSlotWithExtraTime}`;\r\n  };\r\n\r\n  const getFilteredSchedule = (schedule) => {\r\n    const today = new Date(); \r\n    const monthAhead = new Date(today);\r\n    monthAhead.setMonth(today.getMonth() + 1);\r\n  \r\n    return schedule.filter(day => {\r\n      const [dayNum, monthNum] = day.day.split('.').map(Number);\r\n      const date = new Date(today.getFullYear(), monthNum - 1, dayNum);\r\n      return date >= today && date <= monthAhead;\r\n    });\r\n  };\r\n\r\n  let scheduleClass = cn(s.details__schedule, s.schedule);\r\n\r\n  if (!isNumber) {\r\n    return <Error />\r\n  }\r\n\r\n  const filteredSchedule = getFilteredSchedule(doctor?.schedule || []);\r\n\r\n  return (\r\n    <>\r\n      <div className={s.details} role=\"article\" aria-labelledby={`Доктор-${doctor?.name}`}>\r\n          <h1 id={`Доктор-${doctor?.name}`} className={s.details__name} tabIndex={0}>\r\n            {doctor?.name}\r\n          </h1>\r\n          <div className={s.details__header}>\r\n              <div className={s.details__photo} tabIndex={0}>\r\n                <img\r\n                  src={doctor?.photo || Avatar}\r\n                  alt={`Фото лікаря ${doctor?.name}`}\r\n                  aria-labelledby={`Фото лікаря-${doctor?.id}`}\r\n                />\r\n              </div>\r\n          </div>\r\n          <div className={s.details__bottom}>\r\n            <p tabIndex={0}><span>Спеціалізація:</span> {doctor?.specialization}</p>\r\n            <p tabIndex={0}><span>Спеціалізація:</span> {doctor?.specialization}</p>\r\n            <p tabIndex={0}>\r\n              <span>Телефон:</span> \r\n              <a \r\n                href={`tel:${doctor?.phone_number}`} \r\n                aria-label={`Зателефонувати лікарю ${doctor?.name} за номером ${doctor?.phone_number}`} \r\n              >\r\n                {doctor?.phone_number}\r\n              </a>\r\n            </p>\r\n            <p tabIndex={0}><span>Освіта:</span> {doctor?.education}</p>\r\n            <p tabIndex={0} className={s.details__info}><span>Інформація:</span> {doctor?.info}</p>\r\n            <h3 tabIndex={0} className={scheduleClass} aria-live=\"polite\">Розклад роботи:</h3>\r\n            <ul className={s.schedule__list} aria-label=\"Розклад роботи лікаря\">\r\n              {filteredSchedule?.map((day) => (\r\n                <li tabIndex={0} key={day.day} aria-labelledby={`schedule-${day.day}`}>\r\n                  <span id={`Розклад-${day.day}`}>{day.day}:</span> {getTimeRangeForDay(day)}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n      </div>\r\n      {errorMessage && <Toast errorMessage={errorMessage} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DoctorDetails;\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"Error_error__znmIV\",\"browser\":\"Error_browser__BXHsF\"};","import { useContext, useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport s from './Error.module.scss'\r\nimport cn from 'classnames'\r\nimport { UserIdContext } from '../../context/context';\r\n\r\nconst Error = () => {\r\n  const [seconds, setSeconds] = useState(5)\r\n\r\n  const userId = useContext(UserIdContext);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setSeconds(prevSeconds => prevSeconds - 1);\r\n    }, 1000);\r\n\r\n    const timer = setTimeout(() => {\r\n      navigate('/');\r\n    }, 5000);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n      clearInterval(interval);\r\n    }\r\n\r\n  }, [navigate]);\r\n\r\n  let errorClass = cn(s.error, {\r\n    [s.browser]: !userId,\r\n  });\r\n\r\n  return (\r\n    <div \r\n      className={errorClass}\r\n      role=\"alert\"\r\n      aria-live=\"assertive\"\r\n      tabIndex=\"0\"\r\n    >\r\n    Такої сторінки не існує. Через&nbsp;<span aria-live=\"polite\">{seconds}</span>&nbsp;секунд ви будете перенаправлені на головну...\r\n  </div>\r\n  )\r\n};\r\n\r\nexport default Error;","// extracted by mini-css-extract-plugin\nexport default {\"toast\":\"Toast_toast__RH58L\",\"open\":\"Toast_open__B2TW5\"};","import { useEffect, useState } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport cn from 'classnames';\r\nimport s from './Toast.module.scss';\r\n\r\nexport const Toast = ({ errorMessage }) => {\r\n  const [seconds, setSeconds] = useState(0);\r\n\r\n  let toastClass = cn(s.toast);\r\n\r\n  if (seconds > 0) {\r\n    toastClass = cn(s.toast, {\r\n      [s.open]: true,\r\n    });\r\n  }\r\n\r\n  if (seconds >= 2.7) {\r\n    toastClass = cn(s.toast, {\r\n      [s.open]: false,\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setSeconds(prevSeconds => prevSeconds + 0.3);\r\n    }, 300);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [setSeconds]);\r\n\r\n  if (seconds >= 3) return null;\r\n\r\n  return createPortal(\r\n    <div className={toastClass}>\r\n      <span>{errorMessage}</span>\r\n    </div>,\r\n    document.body,\r\n  );\r\n};"],"names":["instance","axios","create","baseURL","doctorsAPI","getAll","get","then","response","data","getOne","telegramId","DoctorDetails","doctorId","useParams","doctor","setDoctor","useState","errorMessage","setErrorMessage","isNumber","isNaN","useEffect","async","error","getDoctorDetails","getTimeRangeForDay","day","time_slots","length","time","hours","minutes","split","map","Number","newHours","newMinutes","String","padStart","addThirtyMinutes","scheduleClass","cn","s","details__schedule","schedule","_jsx","Error","filteredSchedule","today","Date","monthAhead","setMonth","getMonth","filter","dayNum","monthNum","date","getFullYear","getFilteredSchedule","_jsxs","_Fragment","children","className","details","role","name","id","details__name","tabIndex","details__header","details__photo","src","photo","Avatar","alt","details__bottom","specialization","href","phone_number","education","details__info","info","schedule__list","Toast","seconds","setSeconds","userId","useContext","UserIdContext","navigate","useNavigate","interval","setInterval","prevSeconds","timer","setTimeout","clearTimeout","clearInterval","errorClass","_ref","toastClass","createPortal","document","body"],"sourceRoot":""}